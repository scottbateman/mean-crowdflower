<section data-ng-controller="WorkflowsController" data-ng-init="findOne()">
	<div class="page-header">
		<h1 data-ng-bind="workflow.name"></h1>
	</div>
	<div class="pull-right">
		<a class="btn btn-primary" href="/#!/workflows/{{workflow._id}}/edit">
			<i class="glyphicon glyphicon-edit"></i>
		</a>
		<a class="btn btn-primary" data-ng-click="remove();">
			<i class="glyphicon glyphicon-trash"></i>
		</a>
	</div>
  <div>
    <button class="btn btn-success" disabled="disabled" ng-show="workflow.active">Active</button>
    <button class="btn btn-danger" disabled="disabled" ng-show="!workflow.active">Inactive</button>
    <h3>Steps</h3>
    <div class="well">
      <div ng-repeat="step in workflow.steps" class="panel panel-primary" ng-init="loadStepTemplate(step)">
        <div class="panel-heading">
          Step {{$index}}
        </div>
        <div class="panel-body">
          Job Template: <a href="/#!/jobtemplates/{{step.template}}">{{step.templateObject.name}}</a><br/>

          Number in Queue: {{step.queue.length}}<br/>

          Queue Limit:  {{step.queueLimit}}<br/>

          PASS - Go To Step: {{step.nextPass}}<br/>

          FAILS - Go To Step: {{step.nextFail}}<br/>

          <h4>Requirements</h4>
          <div ng-repeat="requirement in step.requirements">
            {{requirement.field}}: {{requirement.confidence}}
          </div>
        </div>
      </div>
    </div>
    <button type="button" ng-click="logScope()" class="btn btn-primary">LOG SCOPE</button>
  </div>
</section>