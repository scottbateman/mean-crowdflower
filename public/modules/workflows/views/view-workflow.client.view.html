<section data-ng-controller="WorkflowsController" data-ng-init="findOne()">

	<div class="page-header" layout="horizontal">
		<h1 data-ng-bind="workflow.name"></h1>
	</div>
	<div class="pull-right">
		<a class="btn btn-primary" href="/#!/workflows/{{workflow._id}}/edit">
			<i class="glyphicon glyphicon-edit"></i>
		</a>
		<a class="btn btn-primary" data-ng-click="remove();">
			<i class="glyphicon glyphicon-trash"></i>
		</a>
	</div>
  <div layout="vertical">
    <button class="btn btn-success" disabled="disabled" ng-show="workflow.active">Active</button>
    <button class="btn btn-danger" disabled="disabled" ng-show="!workflow.active">Inactive</button>
    {{workflow.apiKey}}
    <h3>Steps</h3>
    <div class="well">
      <div ng-repeat="step in workflow.steps" class="panel panel-default" ng-init="loadStepTemplate(step)">
        <header class="panel-heading">Step {{$index}}</header>
        <div class="panel-body">
          <div>
            Template: <a href="/#!/jobtemplates/{{step.template}}">{{step.templateObject.name}}</a>
          </div>
          <div>
            Queue Size: {{step.queue.length}}
          </div>
          <div>
            Queue Limit: {{step.queueLimit}}
          </div>
        </div>
      </div>
    </div>
    <button type="button" ng-click="logScope()" class="btn btn-primary">LOG SCOPE</button>
  </div>
</section>
